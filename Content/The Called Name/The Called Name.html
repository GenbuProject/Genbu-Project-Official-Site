<!DocType HTML>

<HTML>
	<Head>
		<Meta Charset = "UTF-8">
		<Title>Genbu Project Official Site == The Called Name</Title>
		
		<Script Src = "Script/RPG Helper/RPG Helper Alpha 1.0.js"></Script>
		<Link Rel = "StyleSheet" HREF = "Script/RPG Helper/RPG Helper Alpha 1.0.css">
		
		<Script Src = "Script/JsDecoder.js"></Script>
		<Script Src = "Script/JsColorizer.js"></Script>
		<Script Src = "https://code.jquery.com/jquery-1.12.2.js"></Script>
		
		<Script Type = "Text/JavaScript">
			function Formater() {
				var Code = document.getElementById("Code").value;
				
				var Decoder = new JsDecoder();
					Decoder.s = Code;
					Code = Decoder.decode();
					
				var Colorizer = new JsColorizer();
					Colorizer.s = Code;
					Code = Colorizer.colorize();
				
				document.getElementById("FormatedCode").innerHTML = Code;
				
				if (document.getElementById("FormatedCode").innerHTML == "") {
					document.getElementById("FormatedCode").style.display = "None";
				} else {
					document.getElementById("FormatedCode").style.display = "Block";
				}
			}
			
			function KeySetting(Event) {
				var Code = document.getElementById("Code");
				
				switch (Event.keyCode) {
					case 9:
						Event.preventDefault();
						
						Code.value = Code.value.substr(0, Code.selectionStart) + "\t" + Code.value.substr(Code.selectionStart, Code.value.length - (Code.selectionStart)));
						
						break;
						
					case 50:
						if (Event.shiftKey) {
							Event.preventDefault();
							
							Code.value = Code.value.substr(0, Code.selectionStart + 1) + '""' + Code.value.substr(Code.selectionStart, Code.length - (Code.selectionStart + 1));
							Code.setSelectionRange(Code.selectionStart - 1, Code.selectionStart - 1);
						}
						
						break;
						
					case 55:
						if (Event.shiftKey) {
							Event.preventDefault();
							
							Code.value = Code.value.substr(0, Code.selectionStart + 1) + "''" + Code.value.substr(Code.selectionStart, Code.length - (Code.selectionStart + 1));
							Code.setSelectionRange(Code.selectionStart - 1, Code.selectionStart - 1);
						}
						
						break;
						
					case 56:
						if (Event.shiftKey) {
							Event.preventDefault();
							
							Code.value = Code.value.substr(0, Code.selectionStart + 1) + "()" + Code.value.substr(Code.selectionStart, Code.length - (Code.selectionStart + 1));
							Code.setSelectionRange(Code.selectionStart - 1, Code.selectionStart - 1);
						}
						
						break;
						
					case 219:
						Event.preventDefault();
						
						if (Event.shiftKey) {
							Code.value = Code.value.substr(0, Code.selectionStart + 1) + "{}" + Code.value.substr(Code.selectionStart, Code.length - (Code.selectionStart + 1));
							Code.setSelectionRange(Code.selectionStart - 1, Code.selectionStart - 1);
						} else {
							Code.value = Code.value.substr(0, Code.selectionStart + 1) + "[]" + Code.value.substr(Code.selectionStart, Code.length - (Code.selectionStart + 1));
							Code.setSelectionRange(Code.selectionStart - 1, Code.selectionStart - 1);
						}
						
						break;
				}
			}
			
			function AddEvents() {
				document.getElementById("Code").addEventListener("keydown", KeySetting);
			}
		</Script>
	</Head>
	
	<Body Style = 'Color: #EEE; Font: 14px/2 "メイリオ", Meiryo, Osaka; BackGround: URL("http://genbuproject.github.io/Genbu-Project-Official-Site/Too%20Many%20Tags/Back.jpg");' OnLoad = "AddEvents();">
		<Div ID = "RPGHelper-Main" Width = "500" Height = "500"></Div>
		
		<TextArea ID = "Code" Wrap = "Off" Style = "Width: 100%; Height: 250px" OnKeyDown = "Formater();" OnKeyPress = "Formater();" OnKeyUp = "Formater();"></TextArea>
		<Pre ID = "FormatedCode" Style = "Color: MenuText; BackGround: Menu; Border: Thin Solid OrangeRed; Border-Radius: 5px; Line-Height: 1.5; Display: None;"></Pre>
		<Button OnClick = "eval (document.getElementById('Code').value);">コード実行</Button>
	</Body>
</HTML>
